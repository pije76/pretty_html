{% extends "base.html" %}
{% block content %}
    {% if form %}
    <form action="/result" method="post">
        {{ form.hidden_tag() }}
        <p>
            {{ form.html.label }}
            {% for error in form.errors.html %}
                <span class="errors">{{ error }}</span>
            {% endfor %}<br>
            {{ form.html }}<br>
        </p>
        {#
        <p>
            {{ form.indentation.label }}
            {% for error in form.errors.indentation %}
                <span class="errors">{{ error }}</span>
            {% endfor %}<br>
            {{ form.indentation }}<br>
        </p>
        #}
        <button>PROCESS</button>
    </form>
    {% endif %}
    {% if pretty_html %}
        <button id="copy-button">Copy</button>
        <pre id="result">{{ pretty_html }}</pre>
    {% endif %}
{% endblock %}

{% block script %}
    <script src="/static/website/js/jquery-1.9.1.min.js"></script>
    <script src="/static/website/js/jquery.zclip.min.js"></script>
    <script>
        $("#copy-button").zclip({
            path: "/static/website/swf/ZeroClipboard.swf",
            copy: function(){
                return ($('#result').text())
            },
            afterCopy:function(){
                alert("Successfully copy result to clipboard.");
            }
        });
    </script>
{% endblock %}